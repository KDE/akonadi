ALTER TABLE SchemaVersionTable ADD COLUMN version INTEGER NOT NULL DEFAULT 0

ALTER TABLE ResourceTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE ResourceTable ADD COLUMN name TEXT UNIQUE NOT NULL

ALTER TABLE ResourceTable ADD COLUMN isVirtual BOOL DEFAULT false

ALTER TABLE CollectionTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE CollectionTable ADD COLUMN remoteId TEXT

ALTER TABLE CollectionTable ADD COLUMN remoteRevision TEXT

ALTER TABLE CollectionTable ADD COLUMN name TEXT NOT NULL

ALTER TABLE CollectionTable ADD COLUMN parentId int8

ALTER TABLE CollectionTable ADD COLUMN resourceId int8 NOT NULL

ALTER TABLE CollectionTable ADD COLUMN subscribed BOOL NOT NULL DEFAULT true

ALTER TABLE CollectionTable ADD COLUMN cachePolicyInherit BOOL NOT NULL DEFAULT true

ALTER TABLE CollectionTable ADD COLUMN cachePolicyCheckInterval INTEGER NOT NULL DEFAULT -1

ALTER TABLE CollectionTable ADD COLUMN cachePolicyCacheTimeout INTEGER NOT NULL DEFAULT -1

ALTER TABLE CollectionTable ADD COLUMN cachePolicySyncOnDemand BOOL NOT NULL DEFAULT false

ALTER TABLE CollectionTable ADD COLUMN cachePolicyLocalParts TEXT

ALTER TABLE CollectionTable ADD COLUMN queryString TEXT

ALTER TABLE CollectionTable ADD COLUMN queryLanguage TEXT

ALTER TABLE MimeTypeTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE MimeTypeTable ADD COLUMN name TEXT UNIQUE NOT NULL

ALTER TABLE PimItemTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE PimItemTable ADD COLUMN rev INTEGER NOT NULL DEFAULT 0

ALTER TABLE PimItemTable ADD COLUMN remoteId TEXT

ALTER TABLE PimItemTable ADD COLUMN remoteRevision TEXT

ALTER TABLE PimItemTable ADD COLUMN collectionId int8

ALTER TABLE PimItemTable ADD COLUMN mimeTypeId int8

ALTER TABLE PimItemTable ADD COLUMN datetime TIMESTAMP DEFAULT CURRENT_TIMESTAMP

ALTER TABLE PimItemTable ADD COLUMN atime TIMESTAMP

ALTER TABLE PimItemTable ADD COLUMN dirty BOOL

ALTER TABLE PimItemTable ADD COLUMN size int8 NOT NULL DEFAULT 0

ALTER TABLE FlagTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE FlagTable ADD COLUMN name TEXT UNIQUE NOT NULL

ALTER TABLE PartTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE PartTable ADD COLUMN pimItemId int8 NOT NULL

ALTER TABLE PartTable ADD COLUMN name TEXT NOT NULL

ALTER TABLE PartTable ADD COLUMN data BYTEA

ALTER TABLE PartTable ADD COLUMN datasize int8 NOT NULL

ALTER TABLE PartTable ADD COLUMN version INTEGER DEFAULT 0

ALTER TABLE PartTable ADD COLUMN external BOOL DEFAULT false

ALTER TABLE CollectionAttributeTable ADD COLUMN id SERIAL PRIMARY KEY

ALTER TABLE CollectionAttributeTable ADD COLUMN collectionId int8 NOT NULL

ALTER TABLE CollectionAttributeTable ADD COLUMN type BYTEA NOT NULL

ALTER TABLE CollectionAttributeTable ADD COLUMN value BYTEA

ALTER TABLE PimItemFlagRelation ADD COLUMN PimItem_id int8 NOT NULL

ALTER TABLE PimItemFlagRelation ADD COLUMN Flag_id int8 NOT NULL

ALTER TABLE CollectionMimeTypeRelation ADD COLUMN Collection_id int8 NOT NULL

ALTER TABLE CollectionMimeTypeRelation ADD COLUMN MimeType_id int8 NOT NULL

ALTER TABLE CollectionPimItemRelation ADD COLUMN Collection_id int8 NOT NULL

ALTER TABLE CollectionPimItemRelation ADD COLUMN PimItem_id int8 NOT NULL

ALTER TABLE PimItemTable DROP CONSTRAINT myForeignKeyIdentifier

ALTER TABLE CollectionAttributeTable DROP CONSTRAINT myForeignKeyIdentifier

ALTER TABLE CollectionTable ADD CONSTRAINT CollectionTableparentId_Collectionid_fk FOREIGN KEY (parentId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionTable ADD CONSTRAINT CollectionTableresourceId_Resourceid_fk FOREIGN KEY (resourceId) REFERENCES ResourceTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemTable ADD CONSTRAINT PimItemTablecollectionId_Collectionid_fk FOREIGN KEY (collectionId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemTable ADD CONSTRAINT PimItemTablemimeTypeId_MimeTypeid_fk FOREIGN KEY (mimeTypeId) REFERENCES MimeTypeTable(id) ON UPDATE CASCADE ON DELETE RESTRICT

ALTER TABLE PartTable ADD CONSTRAINT PartTablepimItemId_PimItemid_fk FOREIGN KEY (pimItemId) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionAttributeTable ADD CONSTRAINT CollectionAttributeTablecollectionId_Collectionid_fk FOREIGN KEY (collectionId) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemFlagRelation ADD CONSTRAINT PimItemFlagRelationPimItem_id_PimItemid_fk FOREIGN KEY (PimItem_id) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE PimItemFlagRelation ADD CONSTRAINT PimItemFlagRelationFlag_id_Flagid_fk FOREIGN KEY (Flag_id) REFERENCES FlagTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionMimeTypeRelation ADD CONSTRAINT CollectionMimeTypeRelationCollection_id_Collectionid_fk FOREIGN KEY (Collection_id) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionMimeTypeRelation ADD CONSTRAINT CollectionMimeTypeRelationMimeType_id_MimeTypeid_fk FOREIGN KEY (MimeType_id) REFERENCES MimeTypeTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionPimItemRelation ADD CONSTRAINT CollectionPimItemRelationCollection_id_Collectionid_fk FOREIGN KEY (Collection_id) REFERENCES CollectionTable(id) ON UPDATE CASCADE ON DELETE CASCADE

ALTER TABLE CollectionPimItemRelation ADD CONSTRAINT CollectionPimItemRelationPimItem_id_PimItemid_fk FOREIGN KEY (PimItem_id) REFERENCES PimItemTable(id) ON UPDATE CASCADE ON DELETE CASCADE

